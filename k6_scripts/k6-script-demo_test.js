// Auto-generated by the postman-to-k6 converter

import "./libs/shim/core.js";
import "./libs/shim/urijs.js";
import "./libs/shim/expect.js";

export let options = { maxRedirects: 4 };

const Request = Symbol.for("request");
postman[Symbol.for("initial")]({
  options,
  environment: {
    url: "https://restful-booker.herokuapp.com",
    access_token: "",
    base_url: "https://dummyjson.com",
    id: "",
    url_product: "https://api.escuelajs.co"
  }
});

export default function() {
  postman[Request]({
    name: "get all products",
    id: "ff2d47e8-bc68-4f35-b479-06df7621b973",
    method: "GET",
    address: "{{url_product}}/api/v1/products",
    post(response) {
      pm.test("Status code is 200", function() {
        pm.response.to.have.status(200);
      });
    }
  });

  postman[Request]({
    name: "get products filter by price",
    id: "322e3e81-b701-4633-9195-d3ed5b257746",
    method: "GET",
    address: "{{url_product}}/api/v1/products/?price=100",
    post(response) {
      pm.test("Response time is less than 300ms", function() {
        pm.expect(pm.response.responseTime).to.be.below(1000);
      });

      pm.test("Successful GET request", function() {
        pm.expect(pm.response.code).to.be.oneOf([200]);
      });
    }
  });
}
